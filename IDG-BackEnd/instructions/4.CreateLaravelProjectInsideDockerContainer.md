# How to Create a New Laravel Project Inside a Docker Container (Using Docker Compose)

Follow these steps to create a fresh Laravel project inside your Docker container using Docker Compose:

---

## 1. Make Sure Your Docker Compose Service is Up

First, ensure your Docker Compose service is running. In your project directory (where `docker-compose.yml` is located), run:

```sh
docker-compose up -d
```

This will build and start your container(s) in the background.

---

## 2. Access the Running Container

Next, open a shell inside your running app container. Replace `app` with your service name if different:

```sh
docker-compose exec app bash
```

---

## 3. Create a New Laravel Project in a Temporary Folder

Inside the container shell, use Composer to create a new Laravel project in a temporary directory (e.g., `temp_folder`):

```sh
composer create-project laravel/laravel temp_folder
```

---

## 4. Move All Files from `temp_folder` to the Project Root

Still inside the container, move all files and folders from `temp_folder` to the current directory (project root):

```sh
mv temp_folder/* temp_folder/.* . 2>/dev/null || true
```

> **Note:** The `2>/dev/null || true` part suppresses errors for files that can't be moved (like `.` and `..`).

---

## Alternative Method for Moving All Files

Instead of using the `mv temp_folder/* temp_folder/.* . 2>/dev/null || true` command, you can use the following safer method to move all files (including hidden files) from `temp_folder` to the current directory:

```sh
shopt -s dotglob
mv temp_folder/* .
shopt -u dotglob
```

- `shopt -s dotglob` enables the shell option to include hidden files (those starting with a dot) in pathname expansions.
- `mv temp_folder/* .` moves all files and folders, including hidden ones, from `temp_folder` to the current directory.
- `shopt -u dotglob` resets the shell option to its default state.

This approach avoids errors related to moving special directories like `.` and `..`.

---

## 5. Remove the Temporary Folder

Clean up by removing the now-empty `temp_folder`:

```sh
rm -rf temp_folder
```

---

## 6. Exit the Container

Type `exit` to leave the container shell:

```sh
exit
```

---

Your new Laravel project is now set up in your Docker container and ready for development!

---

## 7. Visit Your Laravel Application

Open your browser and go to:

```
http://localhost:8000
```

You should see the Laravel welcome page if everything is set up correctly.

---

## 8. Fix Storage Permission Errors (If Needed)

If you see errors related to the `storage` or `bootstrap/cache` directories (such as permission denied), run the following command inside your container shell:

```
chown -R www-data:www-data /var/www/html/storage /var/www/html/bootstrap/cache bootstrap
```

This will set the correct permissions for Laravel to write to these directories.

