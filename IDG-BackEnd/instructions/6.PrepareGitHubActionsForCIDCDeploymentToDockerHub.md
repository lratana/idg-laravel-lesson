# How to Create a GitHub Actions Workflow for CI/CD and Deployment to Docker Hub

This guide explains how to set up a GitHub Actions workflow file for CI/CD, including building, testing, and pushing a Docker image to Docker Hub. It also covers how to set up required secrets in your GitHub repository.

---

## 1. Create the GitHub Actions Workflow File

1. In your project root, create a folder named `.github/workflows` if it doesn't exist.
2. Inside that folder, create a file named `ci-cd.yml` (or any name you prefer).
3. Paste the following content into the file:

```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [ <your branch name> ]
  # pull_request:
  #   branches: [ <your branch name> ]

jobs:
  build-and-push-to-dockerhub:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to Docker Hub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ${{ secrets.DOCKERHUB_USERNAME }}/my-app:latest
          file: ./Dockerfile
```

---

## 2. Add Required Secrets to GitHub

You need to add the following secrets to your GitHub repository:
- `DOCKERHUB_USERNAME`: Your Docker Hub username
- `DOCKERHUB_TOKEN`: A Docker Hub access token (create one in Docker Hub > Account Settings > Security)

**How to add secrets:**
1. Go to your repository on GitHub.
2. Click on `Settings` > `Secrets and variables` > `Actions`.
3. Click `New repository secret`.
4. Enter the name (e.g., `DOCKERHUB_USERNAME`) and the value, then click `Add secret`.
5. Repeat for each required secret.

---

## 3. How the Workflow Works (Simulation)

On every push to the `main` branch, the workflow will build your Docker image and push it to Docker Hub.

You can monitor workflow runs and logs in the `Actions` tab of your GitHub repository.

---

## Notes
- The workflow can be customized for your project structure and deployment needs.
